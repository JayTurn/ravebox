{"ast":null,"code":"var _jsxFileName = \"/client/app/src/components/review/listByQuery/ListByQuery.tsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * ListByQuery.tsx\n * Queries a list of reviews based on the parameters provided.\n */\n// Modules.\nimport * as React from 'react'; // Components.\n\nimport GridReviewList from '../gridReviewList/GridReviewList';\nimport ScrollableReviewList from '../scrollableReviewList/ScrollableReviewList';\nimport SidebarReviewList from '../sidebarReviewList/SidebarReviewList'; // Enumerators.\n\nimport { PresentationType, QueryPath, ReviewListType } from './ListByQuery.enum';\nimport { RetrievalStatus } from '../../../utils/api/Api.enum'; // Interfaces.\n\n/**\n * Builds the query based on the list type requested.\n *\n * @param { ReviewListType } listType - the type of list to be queried.\n */\nconst setQueryListPath = listType => query => {\n  let path = '';\n\n  switch (listType) {\n    case ReviewListType.PRODUCT:\n      path = `${QueryPath.PRODUCT}/${query}`;\n      break;\n\n    case ReviewListType.CATEGORY:\n      path = `${QueryPath.CATEGORY}/${query}`;\n\n    default:\n  }\n\n  return path;\n};\n/**\n * Removes the currrent review from the list if it's present.\n *\n * @param { Review } active - the currently active review.\n * @param { Array<Review> } reviews - the list of reviews.\n *\n * @param Array<Review>\n */\n\n\nconst removeActiveReview = active => reviews => {\n  const list = [];\n  let i = 0;\n\n  do {\n    const current = _objectSpread({}, reviews[i]);\n\n    if (current._id !== active._id) {\n      list.push(_objectSpread({}, current));\n    }\n\n    i++;\n  } while (i < reviews.length);\n\n  return list;\n};\n/**\n * Returns the list of reviews to the appropriate list.\n *\n * @param { ListByQueryProps } props - the query properties.\n */\n\n\nconst ListByQuery = props => {\n  let reviews = [];\n\n  if (props.reviews && props.reviews.length > 0) {\n    switch (props.listType) {\n      case ReviewListType.PRODUCT:\n        if (props.activeReview && props.reviews && props.reviews.length > 0) {\n          reviews = removeActiveReview(props.activeReview)([...props.reviews]);\n        } else {\n          reviews = [...props.reviews];\n        }\n\n        break;\n\n      case ReviewListType.CATEGORY:\n        reviews = [...props.reviews];\n        break;\n\n      default:\n    }\n  }\n\n  return __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 5\n    }\n  }, reviews.length > 0 && __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }\n  }, props.presentationType === PresentationType.SCROLLABLE && __jsx(ScrollableReviewList, {\n    listType: props.listType,\n    reviews: reviews,\n    retrievalStatus: RetrievalStatus.SUCCESS,\n    title: props.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  }), props.presentationType === PresentationType.SIDEBAR && __jsx(SidebarReviewList, {\n    listType: props.listType,\n    reviews: reviews,\n    retrievalStatus: RetrievalStatus.SUCCESS,\n    title: props.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }\n  }), props.presentationType === PresentationType.GRID && __jsx(GridReviewList, {\n    listType: props.listType,\n    reviews: reviews,\n    retrievalStatus: RetrievalStatus.SUCCESS,\n    title: props.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }\n  })));\n};\n\nexport default ListByQuery;","map":{"version":3,"sources":["/client/app/src/components/review/listByQuery/ListByQuery.tsx"],"names":["React","GridReviewList","ScrollableReviewList","SidebarReviewList","PresentationType","QueryPath","ReviewListType","RetrievalStatus","setQueryListPath","listType","query","path","PRODUCT","CATEGORY","removeActiveReview","active","reviews","list","i","current","_id","push","length","ListByQuery","props","activeReview","presentationType","SCROLLABLE","SUCCESS","title","SIDEBAR","GRID"],"mappings":"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","sourcesContent":["/**\n * ListByQuery.tsx\n * Queries a list of reviews based on the parameters provided.\n */\n\n// Modules.\nimport {\n  AnyAction,\n  bindActionCreators,\n  Dispatch\n} from 'redux';\nimport API from '../../../utils/api/Api.model';\nimport { connect } from 'react-redux';\nimport { frontloadConnect } from 'react-frontload';\nimport * as React from 'react';\n\n// Components.\nimport GridReviewList from '../gridReviewList/GridReviewList';\nimport ScrollableReviewList from '../scrollableReviewList/ScrollableReviewList';\nimport SidebarReviewList from '../sidebarReviewList/SidebarReviewList';\n\n// Enumerators.\nimport {\n  PresentationType,\n  QueryPath,\n  ReviewListType\n} from './ListByQuery.enum';\nimport {\n  RequestType,\n  RetrievalStatus\n} from '../../../utils/api/Api.enum';\n\n// Interfaces.\nimport {\n  ListByQueryProps,\n  RetrieveListByQueryResponse\n} from './ListByQuery.interface';\nimport {\n  Review,\n  ReviewGroup\n} from '../Review.interface';\n\n/**\n * Builds the query based on the list type requested.\n *\n * @param { ReviewListType } listType - the type of list to be queried.\n */\nconst setQueryListPath: (\n  listType: ReviewListType\n) => (\n  query: string\n) => string = (\n  listType: ReviewListType\n) => (\n  query: string\n): string => {\n  let path: string = '';\n\n  switch (listType) {\n    case ReviewListType.PRODUCT:\n      path = `${QueryPath.PRODUCT}/${query}`;\n      break;\n    case ReviewListType.CATEGORY:\n      path = `${QueryPath.CATEGORY}/${query}`;\n    default:  \n  }\n\n  return path;\n}\n\n/**\n * Removes the currrent review from the list if it's present.\n *\n * @param { Review } active - the currently active review.\n * @param { Array<Review> } reviews - the list of reviews.\n *\n * @param Array<Review>\n */\nconst removeActiveReview: (\n  active: Review\n) => (\n  reviews: Array<Review>\n) => Array<Review> = (\n  active: Review\n) => (\n  reviews: Array<Review>\n): Array<Review> => {\n  const list: Array<Review> = []; \n\n  let i: number = 0;\n\n  do {\n    const current: Review = {...reviews[i]};\n\n    if (current._id !== active._id) {\n      list.push({...current});\n    }\n\n    i++;\n  } while (i < reviews.length);\n\n  return list;\n}\n\n/**\n * Returns the list of reviews to the appropriate list.\n *\n * @param { ListByQueryProps } props - the query properties.\n */\nconst ListByQuery: React.FC<ListByQueryProps> = (props: ListByQueryProps) => {\n  let reviews: Array<Review> = [];\n\n  if (props.reviews && props.reviews.length > 0) {\n    switch (props.listType) {\n      case ReviewListType.PRODUCT:\n        if (props.activeReview && props.reviews && props.reviews.length > 0) {\n          reviews = removeActiveReview(props.activeReview)([...props.reviews]);\n        } else {\n          reviews = [...props.reviews];\n        }\n        break;\n      case ReviewListType.CATEGORY:\n          reviews = [...props.reviews];\n        break;\n      default:\n    }\n  }\n\n  return (\n    <React.Fragment>\n      {reviews.length > 0 &&\n        <React.Fragment>\n          {props.presentationType === PresentationType.SCROLLABLE &&\n            <ScrollableReviewList\n              listType={props.listType}\n              reviews={reviews}\n              retrievalStatus={RetrievalStatus.SUCCESS}\n              title={props.title}\n            />\n          }\n          {props.presentationType === PresentationType.SIDEBAR &&\n            <SidebarReviewList\n              listType={props.listType}\n              reviews={reviews}\n              retrievalStatus={RetrievalStatus.SUCCESS}\n              title={props.title}\n            />\n          }\n          {props.presentationType === PresentationType.GRID &&\n            <GridReviewList\n              listType={props.listType}\n              reviews={reviews}\n              retrievalStatus={RetrievalStatus.SUCCESS}\n              title={props.title}\n            />\n          }\n        </React.Fragment>\n      }\n    </React.Fragment>\n  );\n}\n\nexport default ListByQuery;\n"]},"metadata":{},"sourceType":"module"}